document.addEventListener('DOMContentLoaded', () => {
      const burgerButton = document.querySelector('.header-mobile__button');
      const burgerMenu = document.querySelector('.header-mobile__list');
      const fade = document.querySelector('.fade');
      const body = document.body;
      const toggleBurgerMenu = (isOpen) => {
            burgerButton.classList.toggle('active', isOpen);
            burgerMenu.classList.toggle('active', isOpen);
            burgerButton.style.height = isOpen ? '30px' : '24px';
            burgerButton.style.transform = isOpen ? 'rotate(90deg)' : 'rotate(0)';
            fade.classList.toggle('active', isOpen);
            body.style.overflow = isOpen ? 'hidden' : 'visible';
      };

      burgerButton.addEventListener('click', () => {
            const isActive = burgerButton.classList.contains('active');
            toggleBurgerMenu(!isActive);
      });

      fade.addEventListener('click', () => {
            if (burgerButton.classList.contains('active')) {
                  toggleBurgerMenu(false);
            }
      });
      const initializeSwiper = (selector, options) => new Swiper(selector, options);
      const swiperMainOptions = {
            slidesPerView: 3,
            spaceBetween: 90,
            breakpoints: {
                  320: { slidesPerView: 1, spaceBetween: 40 },
                  768: { slidesPerView: 2, spaceBetween: 40 },
                  839: { slidesPerView: 2, spaceBetween: 90 },
                  1279: { slidesPerView: 3, spaceBetween: 90 }
            },
            autoplay: { delay: 5000 },
            loop: true,
            navigation: {
                  nextEl: '.friends__button-next',
                  prevEl: '.friends__button-prev'
            }
      };
      const swiperPetsOptions = {
            slidesPerView: 4,
            grid: { rows: 2 },
            breakpoints: {
                  320: { slidesPerView: 1, grid: { rows: 3 } },
                  768: { slidesPerView: 2, grid: { rows: 3 } },
                  934: { slidesPerView: 3, grid: { rows: 2 } },
                  1279: { slidesPerView: 4, grid: { rows: 2 } }
            },
            autoplay: { delay: 5000 },
            loop: true,
            spaceBetween: 40,
            navigation: {
                  nextEl: '.friends__button-next',
                  prevEl: '.friends__button-prev'
            }
      };
      initializeSwiper('.friends__swiper', swiperMainOptions);
      initializeSwiper('.friends__swiper--grid', swiperPetsOptions);
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', e => {
                  e.preventDefault();
                  document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
      });
      // const currentPath = window.location.pathname;
      // document.querySelectorAll('.header__link').forEach(link => {
      //       link.classList.toggle('active', link.getAttribute('href') === currentPath);
      // });
      const popup = document.getElementById('popup');
      const popupCloseButton = document.querySelector('.popup__close');
      const togglePopup = (isOpen) => {
            popup.classList.toggle('active', isOpen);
            fade.classList.toggle('active', isOpen);
            body.style.overflow = isOpen ? 'hidden' : 'visible';
      };
      document.querySelectorAll('.friends__learn-btn').forEach(button => {
            button.addEventListener('click', () => togglePopup(true));
      });
      popupCloseButton.addEventListener('click', () => togglePopup(false));
      fade.addEventListener('click', () => togglePopup(false));
      console.log('FV=PV(1+i)**n')
});
